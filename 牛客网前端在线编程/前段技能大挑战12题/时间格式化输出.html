<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		function formatDate(oDate, sFormation) {
			var year,mon,day,hour,minute,second,date,ret;
    		var arr = sFormation.split(" ");
    		if(arr[0].indexOf("yyyy")!=-1){
    			year = oDate.getFullYear();  //返回4位数的年
    		}else if(arr[0].indexOf("yy")!=-1){
				year = (oDate.getFullYear()+"").substring(2);
				console.log(year);
    		}
    		if(arr[0].indexOf("MM")!=-1){
    			mon = oDate.getUTCMonth()+1;
				mon = (mon+"").length<2?"0"+mon:mon;
				console.log(mon);
			}else if(arr[0].indexOf("M")!=-1){
				mon = oDate.getUTCMonth()+1;
				console.log(mon);
			}
			if(arr[0].indexOf("dd")!=-1){
    			day = oDate.getDay();
    			day = (day+"").length<2?"0"+day:day;
				console.log(day);

			}else if(arr[0].indexOf("d")!=-1){
				day = oDate.getDay();
			}


			if(arr[1].indexOf("HH")!=-1){
    			hour = oDate.getHours();  //返回4位数
    			hour = (hour+"").length<2?"0"+hour:hour;
				console.log(hour);

    		}else if(arr[1].indexOf("H")!=-1){
    			hour = oDate.getHours();  //返回4位数
				
    		}else if(arr[1].indexOf("hh")!=-1){
    			hour = oDate.getHours()%12;  //返回4位数
    			hour = (hour+"").length<2?"0"+hour:hour;

				
    		}else if(arr[1].indexOf("h")!=-1){
    			hour = oDate.getHours()%12;  //返回4位数
				
    		}
    		if(arr[1].indexOf("mm")!=-1){
    			minute = oDate.getMinutes();
    			minute = (minute+"").length<2?"0"+minute:minute;

				console.log(minute);

			}else if(arr[1].indexOf("m")!=-1){
    			minute = oDate.getMinutes();

			}
			if(arr[1].indexOf("ss")!=-1){
    			second = oDate.getSeconds();
    			second = (second+"").length<2?"0"+second:second;

    			console.log(second);
			}else if(arr[1].indexOf("s")!=-1){
    			second = oDate.getSeconds();

			}

			if(arr[2].indexOf("w")!=-1){
    			date = oDate.getDate();
    			switch(date){
    				case 0:
    					date = "日";
    					break;
    				case 1:
    					date = "一";
    					break;
    				case 2:
    					date = "二";
    					break;
    				case 3:
    					date = "三";
    					break;
    				case 4:
    					date = "四";
    					break;
    				case 5:
    					date = "五";
    					break;
    				case 6:
    					date = "六";
    					break;

    			}
    			console.log(date);
			}
			ret = year+"-"+mon+"-"+day+" " + hour+":"+minute+":"+minute+" " + "星期"+date;
			return ret;

		}


		function formatDate(oDate, sFormation) {
			var obj = {
				yyyy:oDate.getFullYear(),
				yy:(oDate.getFullYear()+"").substring(2),
				MM:("0"+(oDate.getMonth()+1)).slice(-2),
				M:oDate.getMonth()+1,
				dd:("0"+oDate.getDate()).slice(-2),
				d:oDate.getDate(),
				HH:("0"+oDate.getHours()).slice(-2),
				H:oDate.getHours(),
				hh:("0"+(oDate.getHours()%12)).slice(-2),
				h:oDate.getHours()%12,
				mm:("0"+oDate.getMinutes()).slice(-2),
				m:oDate.getMinutes(),
				ss:("0"+oDate.getSeconds()).slice(-2),
				s:oDate.getSeconds(),
				w:['日', '一', '二', '三', '四', '五', '六'][oDate.getDay()]
			};
			return sFormation.replace(/([a-z])+/ig,function($1){return obj[$1]});
		}


		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd HH:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yy-MM-dd HH:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-M-dd HH:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-d HH:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd H:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd HH:m:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd HH:mm:ss 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd hh:mm:s 星期w'));
		console.log(formatDate(new Date(1409894060000), 'yyyy-MM-dd h:mm:s 星期w'));

	</script>
</body>
</html>